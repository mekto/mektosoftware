@import "-prefix-free.styl"

font-size = 16px
line-height = 28px
font = Georgia, serif
text-color = #222

ms(increment)
  return font-size * (1.618 ** increment)

lh(font-size)
  return ceil(font-size / line-height) * line-height

*
  box-sizing: border-box

html
  font-size: 62.5%
body
  color: text-color
  font: normal font-size/line-height font
  // background-image: -webkit-linear-gradient(rgba(#eee,.2) 2px, transparent 2px), -webkit-linear-gradient(0, rgba(#eee,.1) 2px, transparent 2px), -webkit-linear-gradient(rgba(#eee,.3) 1px, transparent 1px), -webkit-linear-gradient(0, rgba(#eee,.3) 1px, transparent 1px)
  // background-size: 160px 160px, 160px 160px, 16px 16px, 16px 16px
  // background-position: -2px -2px, -2px -2px, -1px -1px, -1px -1px;

a
  border-bottom: 1px dotted
  color: text-color
  line-height: inherit
  text-decoration: none
  transition: background-color .15s ease-in
  &:hover
    background-color: #ffa
  &:visited
    color: @color
  &:focus
    border-color: #f33

time
  color: lighten(text-color, 40%)
  font-size: .8em
  font-style: italic

p.back
  font-size: 13px
  font-style: italic
  a
    border-bottom: 0 none


html, body, div, p, pre, h1, h2, h3, ul, ol
  font-size: font-size
  margin: 0
  padding: 0
  vertical-align: baseline
p
  font-size: font-size
  line-height: line-height
  margin-bottom: line-height
pre
  line-height: line-height
  margin-bottom: line-height
ul, ol
  margin-bottom: line-height
  margin-left: line-height
h1, h2, h3
  margin-bottom: line-height
  margin-top: line-height
  text-rendering: optimizeLegibility
  small
    color: #888
    font-size: 60%
    line-height: 0
code, pre
  background-color: #fafafa
  font-family: monospace
  font-size: (font-size - 2)
  padding: 0 3px
code
  display: inline-block
.highlight pre
  display: block
  padding: 0 7px

h1
  font-size: ms(2)
  line-height: lh(@font-size)
  font-weight: normal
  margin-bottom: 0
  margin-top: 1 * line-height
h2
  font-family: Arial, sans-serif
  font-size: ms(1)
  line-height: lh(@font-size)
  margin-bottom: line-height
  margin-top: line-height
h1 + p
  margin-bottom: 1 * line-height

.container
  margin: 0 auto
  padding: 0
  max-width: 640px

#brand
  @extends .container
  color: #aaa
  font-family: monospace
  font-size: ms(1)
  font-weight: normal
  line-height: lh(@font-size)
  margin-top: 1.5 * line-height
  text-align: center
  span
    color: #333

#intro
  @extends .container
  border-top: 1px dotted #bbb
  border-bottom: @border-top
  margin-top: 1.5 * line-height
  padding: 18px
  p
    font-size: font-size - 2
    font-style: italic
  p:last-child
    margin-bottom: 0
  u
    color: #888
    font-weight: normal
    text-decoration: none

#about
  border-top: 1px dotted #aaa
  font-style: italic
  margin: (3 * line-height) 0 (2 * line-height)
  padding: 18px
  p
    font-size: font-size - 2
  p:last-child
    margin-bottom: 0

.avatar
  background: #fff url('gfx/avatar.gif') no-repeat
  border: 1px solid 000
  border-radius: 100px
  box-shadow: inset 0 0 5px 2px rgba(black, .5)
  float: left;
  height: 96px
  margin-right: line-height
  width: 96px
#intro .avatar
  margin-top: -7px

#post-list
  @extends .container
  margin: 1.5 * line-height auto
  p
    margin-bottom: 0
    margin-left: 128px + 18px
  a
    border-bottom: 0 none
  small
    color: lighten(text-color, 40%)
    font-size: 70%
    font-style: italic
    float: left
    width: 108px
    margin-left: (-@width)
